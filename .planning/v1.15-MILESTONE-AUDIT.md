---
milestone: v1.15
audited: 2026-02-23T10:00:00Z
status: tech_debt
scores:
  requirements: 33/33
  phases: 6/6
  integration: 28/28
  flows: 6/6
gaps:
  requirements: []
  integration: []
  flows: []
tech_debt:
  - phase: 25-backlog-system-core
    items:
      - "2 pre-existing test failures: backlog stats tests pick up global ~/.gsd/backlog/items/ (GSD_HOME isolation gap in legacy tests)"
  - phase: 26-backlog-workflow-integration
    items:
      - "Installation gap: installed ~/.claude/get-shit-done/ binary (4597 lines) diverges from source (5472 lines); requires dev-setup.sh symlinks or reinstall to deploy Phase 25-26 backlog commands"
      - "4 human verification items pending: new-milestone backlog scoping, check-todos promote-to-backlog, complete-milestone backlog review, installed binary deployment"
  - phase: 27-workflow-dx-reliability
    items:
      - "3 human verification items pending: quick workflow complexity gate classification, complex task full flow, safeFs error message visibility"
  - phase: cross-phase
    items:
      - "3 source workflow files reference deleted agents (collect-signals.md→gsd-signal-collector, reflect.md→gsd-reflector, run-spike.md→gsd-spike-runner) — introduced by commit f664984, outside v1.15 scope"
      - "4 wiring validation test failures from deleted agent references (tests/integration/wiring-validation.test.js)"
---

# v1.15 Milestone Audit: Backlog & Update Experience

**Audited:** 2026-02-23
**Status:** tech_debt (all requirements met, no critical blockers, accumulated deferred items)

## Milestone Goal

> Give users a structured way to capture, organize, and surface ideas across sessions and milestones, and make the update/upgrade experience smooth with declarative feature configuration.

## Requirements Coverage

| Requirement | Phase | Status | Evidence |
|-------------|-------|--------|----------|
| AGENT-01: Shared agent-protocol.md extracted | 22 | SATISFIED | 540-line protocol at references/agent-protocol.md |
| AGENT-02: All 11 agents reference shared protocol | 22 | SATISFIED | All 11 specs have `<required_reading>` reference |
| AGENT-03: Agent overrides positioned ABOVE protocol | 22 | SATISFIED | Positional check PASS for all verified agents |
| AGENT-04: Extraction registry documents changes | 22 | SATISFIED | 22-EXTRACTION-REGISTRY.md with per-agent audit |
| AGENT-05: Before/after comparison validates no regression | 22 | SATISFIED | 3 agents verified: executor, planner, verifier |
| MANF-01: feature-manifest.json with typed schemas | 23 | SATISFIED | 142-line manifest, 3 features, all with type/default/enum/scope |
| MANF-02: gsd-tools manifest subcommands | 23 | SATISFIED | diff-config, validate, get-prompts all operational |
| MANF-03: Installer ships manifest file | 23 | SATISFIED | Post-copy verification at install.js lines 1949-1955 |
| MANF-04: Manifest is additive-only | 23 | SATISFIED | Unknown fields return valid:true in validate |
| MANF-05: manifest_version tracked in config.json | 23 | SATISFIED | manifest_version: 1 in config.json |
| MIGR-01: upgrade-project reads manifest for config gaps | 24 | SATISFIED | Steps 5+6 use manifest diff-config + apply-migration |
| MIGR-02: new-project uses manifest for feature config | 24 | SATISFIED | Step 5.6 uses auto-detect, get-prompts, apply-migration |
| MIGR-03: update detects version gap, offers upgrade | 24 | SATISFIED | check_config_gaps step with YOLO auto-apply |
| MIGR-04: Lenient config validation | 24 | SATISFIED | Unknown fields preserved, types coerced, never rejected |
| MIGR-05: Config changes logged to migration-log.md | 24 | SATISFIED | log-migration command called in all 3 workflows |
| MIGR-06: Interrupted migration leaves valid config | 24 | SATISFIED | atomicWriteJson with write-to-tmp-then-rename |
| BLOG-01: Backlog items as Markdown with YAML frontmatter | 25 | SATISFIED | 10 frontmatter fields confirmed via smoke test |
| BLOG-02: Global backlog at ~/.gsd/backlog/items/ | 25 | SATISFIED | --global flag tested, resolveBacklogDir handles both |
| BLOG-03: gsd-tools backlog subcommands | 25 | SATISFIED | 7 subcommands: add, list, update, stats, group, promote, index |
| BLOG-04: add-todo with priority/source/status fields | 25 | SATISFIED | Workflow updated with inference rules and defaults |
| BLOG-05: Existing todos auto-default new fields | 25 | SATISFIED | cmdListTodos and cmdInitTodos apply defaults |
| BLOG-06: STATE.md Pending Todos preserved | 25 | SATISFIED | Section at line 67, update_state step unchanged |
| BLOG-07: Auto-generated index.md in backlog dirs | 25 | SATISFIED | regenerateBacklogIndex called after add, update, promote |
| BINT-01: new-milestone reads backlog grouped by theme | 26 | SATISFIED | Step 1b with backlog group --by theme, multi-select |
| BINT-02: Selected items updated with milestone/promoted_to | 26 | SATISFIED | Step 9b promotes with --to and --milestone flags |
| BINT-03: check-todos gains promote-to-backlog action | 26 | SATISFIED | Action in both branch lists with backlog add CLI |
| BINT-04: complete-milestone includes backlog review | 26 | SATISFIED | backlog_review step with keep/defer/discard/skip |
| BINT-05: All todo/backlog readers verified | 26 | SATISFIED | 5 BINT-05 tests: mixed-schema + todo isolation |
| DX-01: /gsd:quick detects trivial tasks, skips planner | 27 | SATISFIED | Step 4b complexity gate with 6 heuristics |
| DX-02: Complex tasks fall back to full flow | 27 | SATISFIED | Steps 5+6 unmodified, isTrivial=false routes there |
| DX-03: Installer fs ops wrapped in try-catch | 27 | SATISFIED | safeFs() wrapper, 19 wrapped call sites, 5 tests |
| DX-04: Shell scripts use portable constructs | 27 | SATISFIED | 5 scripts fixed: env bash, pipefail, GSD_HOME, mktemp |

**Score: 33/33 requirements satisfied**

## Phase Verification Summary

| Phase | Status | Score | Key Metric |
|-------|--------|-------|------------|
| 22. Agent Boilerplate Extraction | PASS | 3/3 agents | 881 lines extracted to 540-line shared protocol |
| 23. Feature Manifest Foundation | PASS | 9/9 truths | 142-line manifest, 17 tests, 92 total pass |
| 24. Manifest-Driven Config Migration | PASS | 6/6 truths | 3 workflows consume manifest, 115 tests pass |
| 25. Backlog System Core | PASS | 5/5 truths | 7 CLI subcommands, 28 new tests, 143 total pass |
| 26. Backlog Workflow Integration | PASS | 17/17 truths | 3 workflows integrated, 19 new tests, 163 total |
| 27. Workflow DX & Reliability | PASS | 12/12 truths | safeFs wrapper (19 sites), 5 scripts fixed, 73 tests |

**Score: 6/6 phases passed verification**

## Cross-Phase Integration

| Connection | From | To | Status |
|------------|------|----|--------|
| Agent protocol reference | Phase 22 (agent-protocol.md) | All 11 agent specs | WIRED |
| Manifest CLI commands | Phase 23 (gsd-tools.js) | Phase 24 workflows | WIRED |
| feature-manifest.json | Phase 23 (manifest file) | Phase 24 (apply-migration) | WIRED |
| Manifest installer verification | Phase 23 (install.js) | Phase 27 (safeFs) | WIRED |
| Backlog CRUD commands | Phase 25 (gsd-tools.js) | Phase 26 workflows | WIRED |
| Backlog milestone field | Phase 26 (promote --milestone) | new-milestone Step 9b | WIRED |
| Multi-status filter | Phase 26 (list --status) | complete-milestone backlog_review | WIRED |
| Todo metadata fields | Phase 25 (add-todo.md) | Phase 26 (check-todos promote) | WIRED |

**Score: 28/28 connections verified**

## E2E Flow Verification

| Flow | Phases | Status |
|------|--------|--------|
| New Project Setup | 23 → 24 | Complete: manifest auto-detect → get-prompts → apply-migration → log-migration |
| Update & Upgrade | 23 → 24 | Complete: update check_config_gaps → upgrade-project manifest apply-migration |
| Backlog Capture-to-Milestone | 25 → 26 | Complete: add-todo → backlog add → new-milestone Step 1b → promote Step 9b |
| Milestone Completion | 25 → 26 | Complete: complete-milestone → backlog_review → keep/defer/discard |
| Quick Task | 27 | Complete: complexity gate → inline or full planner path |
| Agent Protocol | 22 | Complete: all 11 agents load shared protocol via required_reading |

**Score: 6/6 flows complete**

## Tech Debt Summary

### Phase 25: Backlog System Core
- 2 pre-existing test failures: `backlog stats` tests aggregate local + global items; without GSD_HOME isolation, tests pick up real items from `~/.gsd/backlog/items/`. Root cause is GSD_HOME isolation gap in legacy tests, not a Phase 25 defect.

### Phase 26: Backlog Workflow Integration
- **Installation gap:** Installed `~/.claude/get-shit-done/` binary (4597 lines) diverges from source (5472 lines). The installed copy predates Phase 25-26 backlog and milestone field additions. Requires `scripts/dev-setup.sh` symlinks or `node bin/install.js --claude` to deploy. This is a deployment step, not a code defect.
- **4 human verification items pending:** new-milestone backlog scoping (Step 1b UX), check-todos promote-to-backlog flow, complete-milestone backlog review step, installed binary deployment verification.

### Phase 27: Workflow DX & Reliability
- **3 human verification items pending:** quick workflow complexity gate classification accuracy, complex task routing to full flow, safeFs error message visibility on real permission errors.

### Cross-Phase (Outside v1.15 Scope)
- 3 source workflow files reference deleted agents: `collect-signals.md` → `gsd-signal-collector`, `reflect.md` → `gsd-reflector`, `run-spike.md` → `gsd-spike-runner`. Introduced by commit `f664984` on 2026-02-23, outside the v1.15 phase 22-27 scope.
- 4 wiring validation test failures in `tests/integration/wiring-validation.test.js` from these deleted agent references.

### Total: 6 items across 4 categories (0 blockers)

## Anti-Patterns

No anti-patterns found in any v1.15 phase code. All modified files are substantive with no TODOs, FIXMEs, placeholders, or stub implementations.

## Test Suite

| Suite | Tests | Pass | Fail | Notes |
|-------|-------|------|------|-------|
| gsd-tools.test.js | 163 | 161 | 2 | 2 pre-existing backlog stats GSD_HOME isolation failures |
| install.test.js | 73 | 73 | 0 | Includes 5 safeFs tests |
| wiring-validation.test.js | ~8 | ~4 | 4 | Deleted agent references (outside v1.15 scope) |

---

_Audited: 2026-02-23_
_Auditor: Claude (gsd-audit-milestone)_
