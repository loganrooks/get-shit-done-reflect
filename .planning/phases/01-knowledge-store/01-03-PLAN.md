---
phase: 01-knowledge-store
plan: 03
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - .claude/agents/kb-templates/signal.md
  - .claude/agents/kb-templates/spike.md
  - .claude/agents/kb-templates/lesson.md
autonomous: true

must_haves:
  truths:
    - "Agents can copy a template file and fill in the fields to create a valid knowledge base entry"
    - "Each template contains the correct common base schema plus type-specific extensions"
    - "Template body sections match the recommended structure from the reference doc"
  artifacts:
    - path: ".claude/agents/kb-templates/signal.md"
      provides: "Signal entry template"
      contains: "type: signal, severity, signal_type, What Happened"
    - path: ".claude/agents/kb-templates/spike.md"
      provides: "Spike entry template"
      contains: "type: spike, hypothesis, outcome, Hypothesis, Decision"
    - path: ".claude/agents/kb-templates/lesson.md"
      provides: "Lesson entry template"
      contains: "type: lesson, category, evidence_count, Lesson, Recommendation"
  key_links:
    - from: ".claude/agents/kb-templates/"
      to: ".claude/agents/knowledge-store.md"
      via: "templates implement the schemas defined in reference doc"
      pattern: "frontmatter fields match schema"
---

<objective>
Create copy-and-fill entry templates for all three knowledge base entry types.

Purpose: Templates reduce friction for downstream agents creating entries. Instead of reading the full reference doc to construct frontmatter, agents copy the appropriate template and fill in values. Templates also serve as executable examples of the schema.

Output: Three template files in `.claude/agents/kb-templates/`.
</objective>

<execution_context>
@/Users/rookslog/.claude/get-shit-done/workflows/execute-plan.md
@/Users/rookslog/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-knowledge-store/01-01-SUMMARY.md
@.claude/agents/knowledge-store.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create entry templates for all three types</name>
  <files>
    .claude/agents/kb-templates/signal.md
    .claude/agents/kb-templates/spike.md
    .claude/agents/kb-templates/lesson.md
  </files>
  <action>
Create three template files that agents copy and fill to create knowledge base entries. Each template must have placeholder values (in `{PLACEHOLDER}` format) for all required fields and pre-structured body sections.

**Signal template (`.claude/agents/kb-templates/signal.md`):**
```markdown
---
id: sig-{YYYY-MM-DD}-{slug}
type: signal
project: {project-name}
tags: [{tag1}, {tag2}]
created: {YYYY-MM-DDTHH:MM:SSZ}
updated: {YYYY-MM-DDTHH:MM:SSZ}
durability: {workaround|convention|principle}
status: active
severity: {critical|high|medium|low}
signal_type: {deviation|struggle|config-mismatch|custom}
phase: {phase-number}
plan: {plan-number}
---

## What Happened

{Describe the deviation, struggle, or mismatch observed}

## Context

{Where and when this occurred -- phase, plan, task, what was being attempted}

## Potential Cause

{Best understanding of why this happened}
```

**Spike template (`.claude/agents/kb-templates/spike.md`):**
```markdown
---
id: spk-{YYYY-MM-DD}-{slug}
type: spike
project: {project-name}
tags: [{tag1}, {tag2}]
created: {YYYY-MM-DDTHH:MM:SSZ}
updated: {YYYY-MM-DDTHH:MM:SSZ}
durability: {workaround|convention|principle}
status: active
hypothesis: "{testable claim}"
outcome: {confirmed|rejected|partial|inconclusive}
rounds: {number}
---

## Hypothesis

{Detailed testable claim}

## Experiment

{What was done to test the hypothesis}

## Results

{What was observed}

## Decision

{What was decided based on results -- this is mandatory, spikes produce decisions not reports}

## Consequences

{What follows from this decision -- tradeoffs, future implications}
```

**Lesson template (`.claude/agents/kb-templates/lesson.md`):**
```markdown
---
id: les-{YYYY-MM-DD}-{slug}
type: lesson
project: {project-name|_global}
tags: [{tag1}, {tag2}]
created: {YYYY-MM-DDTHH:MM:SSZ}
updated: {YYYY-MM-DDTHH:MM:SSZ}
durability: {workaround|convention|principle}
status: active
category: {architecture|workflow|tooling|testing|debugging|performance|other}
evidence_count: {number}
evidence: [{entry-id-1}, {entry-id-2}]
---

## Lesson

{One-sentence actionable lesson}

## When This Applies

{Conditions under which this lesson is relevant}

## Recommendation

{Specific action to take when this lesson applies}

## Evidence

{List of signals/spikes that led to this lesson, with brief descriptions}
```

Ensure templates exactly match the schemas defined in the knowledge-store.md reference doc. Use `{PLACEHOLDER}` syntax consistently. Include comments or hints in placeholders where choices are constrained (e.g., `{workaround|convention|principle}`).
  </action>
  <verify>
- All three template files exist in `.claude/agents/kb-templates/`
- Each template starts with valid YAML frontmatter delimiters (`---`)
- Each template contains all required common base fields (id, type, project, tags, created, updated, durability, status)
- Signal template has severity, signal_type fields
- Spike template has hypothesis, outcome, rounds fields
- Lesson template has category, evidence_count, evidence fields
- Each template has the recommended body sections for its type
  </verify>
  <done>Three copy-and-fill templates exist that agents can use to create valid knowledge base entries without consulting the full reference doc.</done>
</task>

</tasks>

<verification>
- All three templates exist and have correct frontmatter + body structure
- Templates match the schemas defined in knowledge-store.md
- Placeholder syntax is consistent across all templates
- Fork constraint: only new files created
</verification>

<success_criteria>
Any GSD agent can copy the appropriate template, fill in placeholders, and produce a valid knowledge base entry that conforms to the knowledge-store.md specification.
</success_criteria>

<output>
After completion, create `.planning/phases/01-knowledge-store/01-03-SUMMARY.md`
</output>
