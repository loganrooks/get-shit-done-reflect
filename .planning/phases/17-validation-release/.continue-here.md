---
phase: post-v1.14-audit
task: gap-analysis
total_tasks: 0
status: planning_needed
last_updated: 2026-02-12T01:08:17Z
---

<current_state>
v1.14 milestone audit PASSED (29/29 requirements, 127 tests, 5/5 phases verified).
But pre-deployment review identified 5 real gaps that would cause failures for non-Claude runtimes (especially Codex CLI).
Need to add a gap-closing phase before shipping v1.14.
</current_state>

<completed_work>

- v1.14 milestone audit: PASSED — written to .planning/v1.14-MILESTONE-AUDIT.md
- Integration check: 7/7 exports connected, 5/5 E2E flows verified, 0 broken flows
- Pre-deployment gap analysis: identified 5 gaps requiring a new phase
</completed_work>

<remaining_work>

Need to plan and execute a gap-closing phase addressing these 5 identified gaps:

### GAP 1: No GSD version in ANY KB entry
- Signal template has runtime: and model: but NO gsd_version: field
- Spike template has NO runtime/model/version fields
- Lesson template has NO runtime/model/version fields
- Impact: Can't tell which GSD version created an entry, can't debug cross-version issues

### GAP 2: Most agent-spawning workflows would BREAK in Codex
- Only execute-phase.md and plan-phase.md have capability_check sections
- collect-signals.md spawns gsd-signal-collector (line 127) — NO fallback
- reflect.md spawns gsd-reflector (line 226) — NO fallback
- debug workflow spawns gsd-debugger — NO fallback
- Impact: Codex users running these commands hit errors with no graceful degradation

### GAP 3: Spike and lesson templates have zero provenance
- Signal template: runtime ✓, model ✓, gsd_version ✗
- Spike template: runtime ✗, model ✗, gsd_version ✗
- Lesson template: runtime ✗, model ✗, gsd_version ✗
- Impact: KB entries from non-Claude runtimes have no provenance trail

### GAP 4: KB management scripts absent in Codex
- kb-create-dirs.sh and kb-rebuild-index.sh are in .claude/agents/ (not installed to Codex)
- Codex users can't rebuild KB index or create KB directory structure
- Impact: KB maintenance impossible from Codex

### GAP 5: Agent spec content inaccessible in Codex
- 9 agent specs in .claude/agents/ define critical behavioral instructions
- These are NOT installed to Codex (agents dir skipped by design)
- Workflows reference these agents but Codex has no context for what they do
- Impact: Degraded workflows (from GAP 2 fix) would need inline behavior or reference doc access
</remaining_work>

<decisions_made>

- Don't migrate existing signals — fields are optional, old signals implicitly from Claude Code (pre-v1.14)
- Read-time inference for old entries: "no gsd_version = pre-v1.14, Claude Code only"
- v1.14 milestone audit status: PASSED (all 29 requirements met, but deployment blocked by gaps)
- Need a gap-closing phase BEFORE archiving and deploying v1.14
</decisions_made>

<blockers>

- None blocking — gaps are known and scoped, just need planning and execution
</blockers>

<context>
The user wants to think through these gaps carefully from a fresh context rather than
rushing to fix them. The right approach is:

1. Use /gsd:plan-milestone-gaps (or /gsd:add-phase) to create Phase 18 for gap-closing
2. Research the gaps — especially GAP 2 (workflow degradation) which has the most design decisions
3. Plan carefully — the "inline behavior vs reference doc" question for Codex needs thought
4. Execute the phase
5. Re-run /gsd:audit-milestone to confirm all gaps closed
6. Then /gsd:complete-milestone to archive v1.14

Key concern from user: backward compatibility across releases. Projects on older GSD versions
writing signals without new fields must continue to work. The optional-field approach handles
this, but the user wants this thought through thoroughly.

Also raised: should signals be migrated when GSD updates? Recommendation was NO — use read-time
inference instead. But this deserves fresh consideration.
</context>

<next_action>
Start fresh session. Think through the 5 gaps holistically — especially how workflow degradation
(GAP 2) and agent spec access (GAP 5) interact. Then use /gsd:plan-milestone-gaps or /gsd:add-phase
to create and plan the gap-closing work.
</next_action>
