---
phase: post-v1.14-gap-analysis
task: 0
total_tasks: 0
status: research_complete
last_updated: 2026-02-14T16:52:03Z
---

<current_state>
v1.14 milestone COMPLETE. Post-v1.14 gap analysis in progress. Capability matrix research DONE — 4 of 8 cells were stale. Ready to plan milestone gaps (v1.15) incorporating all findings.
</current_state>

<completed_work>

## v1.14 Milestone Audit (2026-02-11)
- Audit PASSED 29/29 requirements (written to .planning/v1.14-MILESTONE-AUDIT.md)
- 5 pre-deployment gaps identified during post-audit discussion

## Capability Matrix Research (2026-02-14)
- Formal research via gsd-phase-researcher agent completed
- Output: .planning/research/runtime-capabilities/RESEARCH.md
- 4 of 8 matrix cells are STALE:
  - Codex CLI mcp_servers: N → Y (HIGH confidence, official docs)
  - Gemini CLI mcp_servers: N → Y (HIGH confidence, official docs)
  - Gemini CLI tool_permissions: N → Y (HIGH confidence, tools.core/tools.exclude)
  - Gemini CLI task_tool: Y → Y (experimental, sequential only) — annotation needed
- 4 cells CONFIRMED correct (Codex task_tool=N, Codex hooks=N, Codex tool_permissions=N, Gemini hooks=Y)

## Signals Captured (8 total in KB)
- sig-2026-02-11-agent-inline-research-context-bloat
- sig-2026-02-11-signal-workflow-context-bloat
- sig-2026-02-11-local-install-global-kb-model
- sig-2026-02-11-kb-script-wrong-location-and-path
- sig-2026-02-11-kb-data-loss-migration-gap
- sig-2026-02-11-spike-design-missing-feasibility (NEW this session)
- sig-2026-02-11-premature-spiking-no-research-gate (NEW this session)

## Spike Workflow Testing (2026-02-14)
- Attempted /gsd:spike for capability verification — led to productive workflow analysis
- Found: spike DESIGN.md template missing Prerequisites/Feasibility section
- Found: /gsd:spike has no research-first advisory gate (premature spiking anti-pattern)
- Spike workspace created at .planning/spikes/001-runtime-capability-verification/ with enriched DESIGN.md (not executed — redirected to research instead)
- Both findings captured as KB signals
</completed_work>

<remaining_work>

## Immediate Next Step
Run /gsd:plan-milestone-gaps to create phases for v1.15 from combined gap list.

## Combined Gap List (feeds into milestone gap planning)

### HIGH Priority — Installer is actively wrong
1. Codex CLI installer strips MCP references — should preserve (MCP now supported)
2. Gemini CLI installer strips MCP references — should preserve (MCP now supported)
3. Gemini CLI installer strips tool permission frontmatter — should preserve (tool restrictions exist)

### HIGH Priority — Capability matrix stale
4. Update capability-matrix.md with 4 corrected cells + annotations

### HIGH Priority — From original audit
5. KB management scripts absent/mislocated (kb-rebuild-index.sh, kb-create-dirs.sh should be at ~/.gsd/bin/)
6. KB data loss — 13 signals + 3 lessons from v1.13 gone (migration only in installer, no safety net)
7. Agent spec content inaccessible in non-Claude runtimes (GAP 5 from audit)

### MEDIUM Priority
8. Gemini CLI tool_permissions mapping — design GSD allowed-tools → tools.core/tools.exclude mapping
9. Codex CLI MCP config generator — installer needs TOML-format MCP server config output
10. Signal workflow context bloat — /gsd:signal loads ~864 lines of reference docs
11. Spike design template missing Prerequisites/Feasibility section
12. /gsd:spike missing research-first advisory gate
13. No gsd_version field in KB entries (GAP 1 from audit)
14. Spike/lesson templates missing provenance fields (GAP 3 from audit)

### LOW Priority — Monitor
15. Codex CLI hooks evolution — monitor next 30 days (PR #9691 hints)
16. Codex CLI subagents — "under active development", no ETA
17. Gemini CLI parallel subagents — issue #17749 open, 0/4 subtasks
</remaining_work>

<decisions_made>

- Capability verification is a RESEARCH question, not a spike — redirected from /gsd:spike to /gsd:research-phase
- Research confirms 4 stale matrix cells with HIGH confidence — no spike needed
- Spike DESIGN.md template needs Prerequisites/Feasibility section (convention-level signal)
- /gsd:spike standalone command needs research-first advisory (convention-level signal)
- User wants /gsd:plan-milestone-gaps next to structure v1.15 from combined findings
</decisions_made>

<blockers>

- Lost KB data (13 signals, 3 lessons from v1.13) is unrecoverable unless user has backup of ~/.claude/gsd-knowledge/
- NPM_TOKEN config (pre-existing from v1.12, not blocking)
- Gitignore friction (pre-existing from v1.12, not blocking)
</blockers>

<context>
This session was a productive workflow analysis session. The user invoked /gsd:spike to test the spike system, which led to discovering two workflow gaps (missing feasibility assessment in design, missing research-first gate). The capability question was redirected to formal research, which found 4 stale matrix cells — all upgrades (both runtimes gained MCP support, Gemini gained tool permissions).

The combined gap list now has 17 items spanning installer fixes, matrix updates, KB infrastructure, workflow improvements, and monitoring items. The user wants to plan these as milestone gaps (likely v1.15) but wants to clear context first.

Key user feedback from this and previous sessions:
- Keep things lean — agent bloated context by doing inline research instead of delegating
- Signal workflow is too expensive (~864 lines context)
- Spike design should consider implementation feasibility
- Research before spike, not spike first
</context>

<next_action>
Run /gsd:plan-milestone-gaps to create phases from the combined gap list above. This command should read the audit findings, research results, and signals to generate a phased plan for v1.15.

Key inputs for gap planning:
- .planning/v1.14-MILESTONE-AUDIT.md (original 5 gaps)
- .planning/research/runtime-capabilities/RESEARCH.md (capability matrix findings)
- .planning/phases/17-validation-release/.continue-here.md (this file — combined gap list)
- ~/.gsd/knowledge/index.md (8 signals)

Command to resume: /gsd:plan-milestone-gaps
</next_action>
